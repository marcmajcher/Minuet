(this.webpackJsonpminuet=this.webpackJsonpminuet||[]).push([[0],{21:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),u=n(4),s=n.n(u),a=(n(7),n(2)),o=n(9),i=n(3),b=Object(i.b)({name:"resources",initialState:{dummyResource:{amount:0,rate:1}},reducers:{updateAllResources:function(e,t){Object.entries(e).forEach((function(n){var c=Object(o.a)(n,2),r=c[0],u=c[1];e[r].amount+=u.rate*t.payload/1e3}))},setResourceRate:function(e,t){var n=t.payload,c=n.resource,r=n.rate;e[c].rate=r}}}),d=b.actions,j=d.updateAllResources,f=d.setResourceRate,l=b.reducer;var m=Object(i.b)({name:"game",initialState:{debug:!1,paused:!1,fps:5},reducers:{pause:function(e){e.paused=!0},unpause:function(e){e.paused=!1},debug:function(e,t){e.debug=t.payload},setFPS:function(e,t){e.fps=t.payload}}}),O=m.actions,p=O.pause,v=O.unpause,x=(O.debug,O.setHeartbeat,O.setFPS,m.reducer),g=n.p+"static/media/orbital.391d4365.svg",h=n(1);function R(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.game.paused}));return Object(h.jsxs)("nav",{children:[Object(h.jsx)("h1",{children:"minuet"}),Object(h.jsx)("img",{className:t?"orbit":"orbit spin",src:g,alt:"orbit logo",onClick:t?function(){return e(v())}:function(){return e(p())}})]})}function y(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.resources.dummyResource}));return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["DummyResource: ",t.amount.toFixed(2)," (",t.rate.toFixed(2),"/sec)"]}),Object(h.jsx)("button",{onClick:function(){e(f({resource:"dummyResource",rate:t.rate+1}))},children:"+1/sec"})]})}var S=function(){return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(R,{}),Object(h.jsx)(y,{})]})};var k=function(){return function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.game.paused})),n=Object(a.c)((function(e){return e.game.fps})),r=n>0?1e3/n:Number.MAX_VALUE,u=Object(c.useRef)((function(){return e(j(r))}));Object(c.useEffect)((function(){if(n>0&&!t){var e=setInterval((function(){u.current(r)}),r);return function(){return clearInterval(e)}}}),[n,r,t])}(),Object(h.jsx)(S,{})},A=Object(i.a)({reducer:{resources:l,game:x}});s.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(a.a,{store:A,children:Object(h.jsx)(k,{})})}),document.getElementById("root"))},7:function(e,t,n){}},[[21,1,2]]]);
//# sourceMappingURL=main.c90c7c8d.chunk.js.map