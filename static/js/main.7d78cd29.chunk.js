(this.webpackJsonpminuet=this.webpackJsonpminuet||[]).push([[0],{15:function(e,t,r){},23:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r.n(c),u=r(5),a=r.n(u),s=(r(15),r(3));var o=r(2);function j(){return Object(o.jsx)("h1",{children:"minuet"})}function b(){var e=Object(s.b)(),t=function(e){return Math.round(100*e)/100},r=Object(s.c)((function(e){return e.resources.dummyResource}));return Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{children:["DummyResource: ",t(r.amount)," (",t(r.rate),"/sec)"]}),Object(o.jsx)("button",{onClick:function(){var t,c;e((t="dummyResource",c=r.rate+1,{type:"SET_RESOURCE_RATE",resource:t,rate:c}))},children:"+1/sec"})]})}var i=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.paused})),r=function(e,t){var r=1e3/e,n=Object(s.b)(),u=Object(c.useRef)();function a(){u.current=setInterval((function(){return t(r)}),r),n({type:"START"})}function o(){clearInterval(u.current),n({type:"PAUSE"})}return Object(c.useEffect)((function(){return a(),o()}),[]),{startBeat:a,pauseBeat:o}}(5,(function(t){e(function(e){return{type:"UPDATE_ALL_RESOURCES",ms:e}}(t))})),n=r.startBeat,u=r.pauseBeat;return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(j,{}),"Running: ",t?"nope.":"yup!",Object(o.jsx)(b,{}),t?Object(o.jsx)("button",{onClick:n,children:"Start"}):Object(o.jsx)("button",{onClick:u,children:"Pause"})]})},O=r(4),d=r(9),m=r(1),f=r(10),E={paused:"butt",heartBeat:void 0,resources:{dummyResource:{amount:0,rate:1}}};var l=Object(f.a)((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,r=arguments.length>1?arguments[1]:void 0;switch(console.log("in reducer: ".concat(JSON.stringify(r))),r.type){case"PAUSE":return Object(m.a)(Object(m.a)({},t),{},{paused:!0});case"START":return Object(m.a)(Object(m.a)({},t),{},{paused:!1});case"SET_HEARTBEAT":return Object(m.a)(Object(m.a)({},t),{},{heartBeat:r.payload});case"UPDATE_ALL_RESOURCES":return e=Object(m.a)({},t.resources),Object.entries(e).forEach((function(t){var c=Object(d.a)(t,2),n=c[0],u=c[1];e[n]=Object(m.a)(Object(m.a)({},e[n]),{},{amount:e[n].amount+u.rate*r.ms/1e3})})),Object(m.a)(Object(m.a)({},t),{},{resources:e});case"ADD_RESOURCE_AMOUNT":var c=t.dummyResourceAmount+r.amount;return e=Object(m.a)(Object(m.a)({},t.resources),{},Object(O.a)({},r.resource,{amount:c,rate:t.resources[r.resource].rate})),Object(m.a)(Object(m.a)({},t),{},{resources:e});case"SET_RESOURCE_RATE":return e=Object(m.a)(Object(m.a)({},t.resources),{},Object(O.a)({},r.resource,{amount:t.resources[r.resource].amount,rate:r.rate})),Object(m.a)(Object(m.a)({},t),{},{resources:e});default:return t}}),E);a.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(s.a,{store:l,children:Object(o.jsx)(i,{})})}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.7d78cd29.chunk.js.map